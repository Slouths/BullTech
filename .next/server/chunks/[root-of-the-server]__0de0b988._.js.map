{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 3, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 145, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ikers/web/BullTech/app/api/contact/route.ts"],"sourcesContent":["import { NextResponse } from 'next/server';\r\nimport nodemailer from 'nodemailer';\r\n\r\nexport async function POST(request: Request) {\r\n  try {\r\n    const data = await request.json();\r\n    const {\r\n      firstName,\r\n      lastName,\r\n      company,\r\n      email,\r\n      subject,\r\n      message,\r\n      services,\r\n      otherService,\r\n      shootLocation,\r\n      shootLocationDetails,\r\n      locationType,\r\n      shootType,\r\n      equipmentNeeds,\r\n      budget\r\n    } = data;\r\n\r\n    // Create a transporter\r\n    const port = parseInt(process.env.EMAIL_PORT || '465');\r\n    \r\n    // Configure transporter with connection retry and debug options\r\n    const transporter = nodemailer.createTransport({\r\n      host: process.env.EMAIL_HOST || 'smtp.fatcow.com',\r\n      port: port,\r\n      secure: port === 465, // true for 465, false for other ports\r\n      auth: {\r\n        user: process.env.EMAIL_USER,\r\n        pass: process.env.EMAIL_PASS,\r\n      },\r\n      tls: {\r\n        // Do not fail on invalid certs\r\n        rejectUnauthorized: false,\r\n        // Force TLS version if needed, though usually auto-negotiated\r\n        minVersion: 'TLSv1.2'\r\n      },\r\n      debug: true, // Enable debug output\r\n      logger: true // Log to console\r\n    });\r\n\r\n    // Email content\r\n    const mailOptions = {\r\n      from: process.env.EMAIL_USER, // Sender address\r\n      to: 'hello@bulldigital.tech', // Receiver address\r\n      replyTo: email, // Allow replying directly to the submitter\r\n      subject: `New Inquiry: ${subject}`,\r\n      text: `\r\nName: ${firstName} ${lastName}\r\nCompany: ${company}\r\nEmail: ${email}\r\n\r\nSubject: ${subject}\r\n\r\nMessage:\r\n${message}\r\n\r\n---\r\nService Details:\r\nWorkflow: ${services.join(', ')}${otherService ? ` (${otherService})` : ''}\r\nShoot Location: ${shootLocation} ${shootLocationDetails ? `(${shootLocationDetails})` : ''}\r\nLocation Type: ${locationType}\r\nShoot Type: ${shootType}\r\nEquipment Needs: ${equipmentNeeds}\r\nBudget: ${budget}\r\n      `,\r\n      html: `\r\n        <h2>New Website Inquiry</h2>\r\n        <p><strong>Name:</strong> ${firstName} ${lastName}</p>\r\n        <p><strong>Company:</strong> ${company}</p>\r\n        <p><strong>Email:</strong> ${email}</p>\r\n        <br/>\r\n        <p><strong>Subject:</strong> ${subject}</p>\r\n        <p><strong>Message:</strong><br/>${message.replace(/\\n/g, '<br/>')}</p>\r\n        <hr/>\r\n        <h3>Service Details</h3>\r\n        <ul>\r\n          <li><strong>Workflow:</strong> ${services.join(', ')}${otherService ? ` (${otherService})` : ''}</li>\r\n          <li><strong>Shoot Location:</strong> ${shootLocation} ${shootLocationDetails ? `(${shootLocationDetails})` : ''}</li>\r\n          <li><strong>Location Type:</strong> ${locationType}</li>\r\n          <li><strong>Shoot Type:</strong> ${shootType}</li>\r\n          <li><strong>Equipment Needs:</strong> ${equipmentNeeds}</li>\r\n          <li><strong>Budget:</strong> ${budget}</li>\r\n        </ul>\r\n      `,\r\n    };\r\n\r\n    // Send email\r\n    await transporter.sendMail(mailOptions);\r\n\r\n    return NextResponse.json({ success: true, message: 'Email sent successfully' }, { status: 200 });\r\n    } catch (error: any) {\r\n    console.error('Failed to send email:', error);\r\n    return NextResponse.json({ success: false, message: error.message || 'Failed to send email' }, { status: 500 });\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,eAAe,KAAK,OAAgB;IACzC,IAAI;QACF,MAAM,OAAO,MAAM,QAAQ,IAAI;QAC/B,MAAM,EACJ,SAAS,EACT,QAAQ,EACR,OAAO,EACP,KAAK,EACL,OAAO,EACP,OAAO,EACP,QAAQ,EACR,YAAY,EACZ,aAAa,EACb,oBAAoB,EACpB,YAAY,EACZ,SAAS,EACT,cAAc,EACd,MAAM,EACP,GAAG;QAEJ,uBAAuB;QACvB,MAAM,OAAO,SAAS,QAAQ,GAAG,CAAC,UAAU,IAAI;QAEhD,gEAAgE;QAChE,MAAM,cAAc,+KAAU,CAAC,eAAe,CAAC;YAC7C,MAAM,QAAQ,GAAG,CAAC,UAAU,IAAI;YAChC,MAAM;YACN,QAAQ,SAAS;YACjB,MAAM;gBACJ,MAAM,QAAQ,GAAG,CAAC,UAAU;gBAC5B,MAAM,QAAQ,GAAG,CAAC,UAAU;YAC9B;YACA,KAAK;gBACH,+BAA+B;gBAC/B,oBAAoB;gBACpB,8DAA8D;gBAC9D,YAAY;YACd;YACA,OAAO;YACP,QAAQ,KAAK,iBAAiB;QAChC;QAEA,gBAAgB;QAChB,MAAM,cAAc;YAClB,MAAM,QAAQ,GAAG,CAAC,UAAU;YAC5B,IAAI;YACJ,SAAS;YACT,SAAS,CAAC,aAAa,EAAE,SAAS;YAClC,MAAM,CAAC;MACP,EAAE,UAAU,CAAC,EAAE,SAAS;SACrB,EAAE,QAAQ;OACZ,EAAE,MAAM;;SAEN,EAAE,QAAQ;;;AAGnB,EAAE,QAAQ;;;;UAIA,EAAE,SAAS,IAAI,CAAC,QAAQ,eAAe,CAAC,EAAE,EAAE,aAAa,CAAC,CAAC,GAAG,GAAG;gBAC3D,EAAE,cAAc,CAAC,EAAE,uBAAuB,CAAC,CAAC,EAAE,qBAAqB,CAAC,CAAC,GAAG,GAAG;eAC5E,EAAE,aAAa;YAClB,EAAE,UAAU;iBACP,EAAE,eAAe;QAC1B,EAAE,OAAO;MACX,CAAC;YACD,MAAM,CAAC;;kCAEqB,EAAE,UAAU,CAAC,EAAE,SAAS;qCACrB,EAAE,QAAQ;mCACZ,EAAE,MAAM;;qCAEN,EAAE,QAAQ;yCACN,EAAE,QAAQ,OAAO,CAAC,OAAO,SAAS;;;;yCAIlC,EAAE,SAAS,IAAI,CAAC,QAAQ,eAAe,CAAC,EAAE,EAAE,aAAa,CAAC,CAAC,GAAG,GAAG;+CAC3D,EAAE,cAAc,CAAC,EAAE,uBAAuB,CAAC,CAAC,EAAE,qBAAqB,CAAC,CAAC,GAAG,GAAG;8CAC5E,EAAE,aAAa;2CAClB,EAAE,UAAU;gDACP,EAAE,eAAe;uCAC1B,EAAE,OAAO;;MAE1C,CAAC;QACH;QAEA,aAAa;QACb,MAAM,YAAY,QAAQ,CAAC;QAE3B,OAAO,mKAAY,CAAC,IAAI,CAAC;YAAE,SAAS;YAAM,SAAS;QAA0B,GAAG;YAAE,QAAQ;QAAI;IAC9F,EAAE,OAAO,OAAY;QACrB,QAAQ,KAAK,CAAC,yBAAyB;QACvC,OAAO,mKAAY,CAAC,IAAI,CAAC;YAAE,SAAS;YAAO,SAAS,MAAM,OAAO,IAAI;QAAuB,GAAG;YAAE,QAAQ;QAAI;IAC/G;AACF","debugId":null}}]
}